<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Carrinho de Compras</title>
    <link rel="stylesheet" href="/src/assets/Styles/navbar.css">
    <link rel="stylesheet" href="/src/assets/Styles/main.css">
    <link rel="stylesheet" href="/src/assets/Styles/footer.css">
    <link rel="stylesheet" href="/src/assets/Styles/carrinho.css">
</head>

<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="index.html">
                    <img src="/src/assets/img/descarregar (2).jfif" alt="LOGO">
                    <span>Loja Online</span>
                </a>
            </div>
            <ul class="nav-links" id="nav-links">
                <li><a href="index.html" class="menu-item">Home</a></li>
                <li class="dropdown">
                    <a href="#" class="menu-item dropdown-toggle">Suporte <span class="arrow-down"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="faqs.html">FAQs</a></li>
                        <li><a href="politicas.html">Políticas de Privacidade</a></li>
                    </ul>
                <li><a href="carrinho.html" class="menu-item">Carrinho</a></li>
                <li class="dropdown">
                    <a href="#" class="menu-item dropdown-toggle">
                        <img src="/src/assets/img/user-solid.svg" alt="Perfil" style="width: 24px; height: 24px;">
                        Perfil <span class="arrow-down"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="login.html">Login</a></li>
                        <li><a href="register.html">Registrar</a></li>
                        <li><a href="utilizador.html" class="menu-item">Minha Conta</a></li>
                    </ul>
                </li>
            </ul>
            <div class="menu-toggle" id="menu-toggle">☰</div>
        </nav>
    </header>

    <main>
        <div class="carrinho-container">
            <h1>Carrinho de Compras</h1>
            <table class="carrinho-table">
                <thead>
                    <tr>
                        <th>Produto</th>
                        <th>Quantidade</th>
                        <th>Preço Unitário</th>
                        <th>Total</th>
                        <th>Ação</th>
                    </tr>
                </thead>
                <tbody id="carrinho-body">
                    <!-- Os produtos serão adicionados aqui pelo JavaScript -->
                </tbody>
            </table>
            <div class="carrinho-total">
                <h2>Total: R$ <span id="total-preco">0.00</span></h2>
                <button class="checkout-btn">Finalizar Compra</button>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <!-- Formulário de contato -->
            <div class="contact-form">
                <h3>Entre em Contato</h3>
                <form>
                    <div class="form-group">
                        <input type="text" placeholder="Nome" required>
                    </div>
                    <div class="form-group">
                        <input type="email" placeholder="Email" required>
                    </div>
                    <div class="form-group">
                        <input type="tel" placeholder="Telefone" required>
                    </div>
                    <div class="form-group">
                        <textarea placeholder="Mensagem" required></textarea>
                    </div>
                    <button type="submit">Enviar</button>
                </form>
            </div>

            <!-- Lado direito com mapa, localização e horários -->
            <div class="footer-right">
                <div class="location-info">
                    <div class="map-container">
                        <div class="map">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3110.8026912632404!2d-9.16063332417581!3d38.76822927175187!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd1932ee12d27e1b%3A0x6646176f5efe460d!2sR.%20Silva%20Tavares%201%2C%201750-155%20Lisboa!5e0!3m2!1spt-PT!2spt!4v1731344300808!5m2!1spt-PT!2spt" width="350" height="200" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                        <div class="address">
                            <p>R. Silva Tavares 1, 1750-155 Lisboa</p>
                        </div>
                    </div>
                    <!-- Horários de Funcionamento no Footer -->
                    <div class="footer-hours">
                        <h4>Horário de Funcionamento</h4>
                        <div class="hours-item">
                            <div class="clock-icon">
                                <img src="/src/assets/img/clock-regular.png" alt="Ícone de relógio">
                            </div>
                            <div class="hours-text">
                                <p class="days">Segunda a Sexta</p>
                                <p class="time">09:00h - 20:00h</p>
                            </div>
                        </div>
                        <div class="hours-item">
                            <div class="clock-icon">
                                <img src="/src/assets/img/clock-regular.png" alt="Ícone de relógio">
                            </div>
                            <div class="hours-text">
                                <p class="days">Sábado e Domingo</p>
                                <p class="time">09:00h - 13:00h</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Livro de reclamações -->
        <div class="footer-info">
            <div class="complaint-book">
                <a href="https://www.livroreclamacoes.pt" target="_blank">
                    <img src="https://www.istec.pt/wp-content/uploads/2023/12/LogoLR.png" alt="Livro de Reclamações">
                </a>
            </div>
            <p class="copyright">© 2024 Loja Online - Site de Venda. All rights reserved</p>
        </div>
    </footer>

    <script>
        // Simulação de produtos no carrinho (para teste)
        const cart = [
            { nome: "Produto 1", preco: 99.99, quantidade: 1 },
            { nome: "Produto 2", preco: 149.99, quantidade: 1 }
        ];

        document.addEventListener("DOMContentLoaded", function() {
            const carrinhoBody = document.getElementById('carrinho-body');
            const totalPrecoElement = document.getElementById('total-preco');

            function atualizarCarrinho() {
                carrinhoBody.innerHTML = '';
                let total = 0;
                cart.forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.nome}</td>
                        <td>
                            <input type="number" value="${item.quantidade}" min="1" class="quantidade" data-preco="${item.preco}">
                        </td>
                        <td>R$ ${item.preco.toFixed(2)}</td>
                        <td class="total">R$ ${(item.preco * item.quantidade).toFixed(2)}</td>
                        <td><button class="remove-btn">Remover</button></td>
                    `;
                    carrinhoBody.appendChild(row);
                    total += item.preco * item.quantidade;
                });
                totalPrecoElement.textContent = `R$ ${total.toFixed(2)}`;
            }

            atualizarCarrinho();

            carrinhoBody.addEventListener('click', function(event) {
                if (event.target.classList.contains('remove-btn')) {
                    const productName = event.target.closest('tr').querySelector('td:first-child').textContent;
                    const index = cart.findIndex(item => item.nome === productName);
                    if (index !== -1) {
                        cart.splice(index, 1);
                        atualizarCarrinho();
                    }
                }
            });

            carrinhoBody.addEventListener('change', function(event) {
                if (event.target.classList.contains('quantidade')) {
                    const productName = event.target.closest('tr').querySelector('td:first-child').textContent;
                    const quantidade = parseInt(event.target.value);
                    const index = cart.findIndex(item => item.nome === productName);
                    if (index !== -1) {
                        cart[index].quantidade = quantidade;
                        atualizarCarrinho();
                    }
                }
            });
        });
    </script>
</body>

</html>